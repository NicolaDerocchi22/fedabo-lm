import { useState } from 'react';
import InputSection from './components/InputSection';
import ResponseSection from './components/ResponseSection';
import Markdown from 'react-markdown';
import rehypeRaw from 'rehype-raw';
import { marked } from 'marked';
import DOMPurify from 'dompurify';

function App() {
  const [response, setResponse] = useState<any>();
  const [isLoading, setIsLoading] = useState<boolean>(false);
  const [coso, setCoso] = useState<string>("");

  const markup = {
    __html: "(**Verifiability**\n**Appendix C: List of phased-in Disclosure Requirements**\nThis appendix is an integral part of ESRS 1 and has the same authority as the other parts of the Standard.\n| ESRS   | Disclosure<br>Requirement | Full name of the<br>Disclosure<br>Requirement  | Phase-in or effective date (including<br>the first year)                                                                                                                                                                                                                                                                                                                            |\n|--------|---------------------------|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS 2 | SBM-1                     | Strategy,<br>business<br>model and value chain | The undertaking shall report the information<br>prescribed by ESRS 2 SBM-1 paragraph<br>40(b)<br>(breakdown<br>of<br>total<br>revenue<br>by<br>significant ESRS sector) and 40(c) (list of<br>additional significant ESRS sectors) starting<br>from the application date specified in a<br>Commission Delegated Act to be adopted<br>pursuant to article 29b(1) third subparagraph, |\n| ESRS    | Disclosure<br>Requirement         | Full name of the<br>Disclosure<br>Requirement                                                                                                       | Phase-in or effective date (including<br>the first year)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n|---------|-----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|         |                                   |                                                                                                                                                     | point (ii), of Directive 2013/34/EU.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ESRS 2  | SBM-3                             | Material impacts, risks<br>and opportunities and<br>their<br>interaction<br>with<br>strategy and business<br>model                                  | The undertaking may omit the information<br>prescribed by ESRS 2 SBM-3 paragraph<br>48(e) (anticipated financial effects)<br>for the<br>first year of preparation of its sustainability<br>statement. The undertaking may comply with<br>ESRS 2 SBM-3 paragraph 48(e) by reporting<br>only qualitative disclosures for the first 3<br>years of preparation of its sustainability<br>statement, if it is impracticable to prepare<br>quantitative disclosures.                                                                                        |\n| ESRS E1 | E1-6                              | Gross Scopes 1, 2, 3<br>and<br>Total<br>GHG<br>emissions                                                                                            | Undertakings or groups not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable) may omit the datapoints on scope<br>3 emissions and total GHG emissions for the<br>first year of preparation of their sustainability<br>statement.                                                                                                                                                                              |\n| ESRS E1 | E1-9                              | Anticipated<br>financial<br>effects<br>from<br>material<br>physical and transition<br>risks<br>and<br>potential<br>climate-related<br>opportunities | The undertaking may omit the information<br>prescribed by ESRS E1-9 for the first year of<br>preparation of its sustainability statement.<br>The undertaking may comply with ESRS E1-9<br>by reporting only qualitative disclosures for<br>the<br>first<br>3<br>years<br>of<br>preparation of its<br>sustainability statement, if it is impracticable<br>to prepare quantitative disclosures.                                                                                                                                                        |\n| ESRS E2 | E2-6                              | Anticipated<br>financial<br>effects<br>from<br>pollution<br>related<br>impacts,<br>risks<br>and opportunities                                       | The undertaking may omit the information<br>prescribed by ESRS E2-6 for the first year of<br>preparation of its sustainability statement.<br>Except for the information prescribed by<br>paragraph 40 (b) on the operating and capital<br>expenditures occurred in the reporting period<br>in conjunction with major incidents and<br>deposits, the undertaking may comply<br>with<br>ESRS<br>E2-6 by<br>reporting<br>only<br>qualitative<br>disclosures,<br>for<br>the<br>first<br>3<br>years<br>of<br>preparation of its sustainability statement. |\n| ESRS E3 | E3-5                              | Anticipated<br>financial<br>effects from water and<br>marine<br>resources<br>related impacts,<br>risks<br>and opportunities                         | The undertaking may omit the information<br>prescribed by ESRS E3-5 for the first year of<br>preparation of its sustainability statement.The<br>undertaking may comply with ESRS E3-5 by<br>reporting only qualitative disclosures, for the<br>first 3 years of preparation of its sustainability<br>statement.                                                                                                                                                                                                                                      |\n| ESRS E4 | All<br>disclosure<br>requirements | All<br>disclosure<br>requirements                                                                                                                   | Undertakings or groups not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable)<br>may<br>omit<br>the<br>information<br>specified in the disclosure requirements of<br>ESRS E4 for the first 2 years of preparation<br>of their sustainability statement.                                                                                                                                                       |\n|         | Disclosure                        | Full name of the                                                                                                                                  | Phase-in or effective date (including                                                                                                                                                                                                                                                                                                                                                             |\n|---------|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS    | Requirement                       | Disclosure                                                                                                                                        | the first year)                                                                                                                                                                                                                                                                                                                                                                                   |\n|         |                                   | Requirement                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                   |\n| ESRS E4 | E4-6                              | Anticipated<br>financial<br>effects<br>from<br>biodiversity<br>and<br>ecosystem-related<br>impacts,<br>risks<br>and<br>opportunities              | The undertaking may omit the information<br>prescribed by ESRS E4-6 for the first year of<br>preparation of its sustainability statement.<br>The undertaking may comply with ESRS E4-<br>6 by reporting only qualitative disclosures, for<br>the first 3<br>years of preparation of its<br>sustainability statement.                                                                              |\n| ESRS E5 | E5-6                              | Anticipated<br>financial<br>effects<br>from<br>resource<br>use<br>and<br>circular<br>economy-related<br>impacts,<br>risks<br>and<br>opportunities | The undertaking may omit the information<br>prescribed by ESRS E5-6 for the first year of<br>preparation of its sustainability statement.<br>The undertaking may comply with ESRS E5-<br>6 by reporting only qualitative disclosures, for<br>the first 3<br>years of preparation of its<br>sustainability statement.                                                                              |\n| ESRS S1 | All<br>disclosure<br>requirements | All<br>disclosure<br>requirements                                                                                                                 | Undertakings or groups not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable)<br>may<br>omit<br>the<br>information<br>specified in the disclosure requirements of<br>ESRS S1 for the first year of preparation of<br>their sustainability statement.       |\n| ESRS S1 | S1-7                              | Characteristics<br>of<br>non<br>employee workers in the<br>undertaking's<br>own<br>workforce                                                      | The undertaking may omit reporting for all<br>datapoints in this Disclosure Requirement for<br>the<br>first<br>year<br>of<br>preparation<br>of<br>its<br>sustainability statement.                                                                                                                                                                                                                |\n| ESRS S1 | S1-8                              | Collective<br>bargaining<br>coverage<br>and<br>social dialogue                                                                                    | The undertaking may omit this Disclosure<br>Requirement<br>with<br>regard<br>to<br>its<br>own<br>employees in non-EEA countries for the first<br>year<br>of<br>preparation<br>of<br>its<br>sustainability<br>statement.                                                                                                                                                                           |\n| ESRS S1 | S1-11                             | Social protection                                                                                                                                 | The undertaking may omit the information<br>prescribed by ESRS S1-11 for the first year<br>of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-12                             | Percentage<br>of<br>employees<br>with<br>disabilities                                                                                             | The undertaking may omit the information<br>prescribed by ESRS S1-12 for the first year<br>of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-13                             | Training<br>and<br>skills<br>development                                                                                                          | The undertaking may omit the information<br>prescribed by ESRS S1-13 for the first year<br>of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-14                             | Health and safety                                                                                                                                 | The undertaking may omit the data points on<br>cases<br>of<br>work-related<br>ill-health<br>and<br>on<br>number of days lost to injuries, accidents,<br>fatalities and work-related ill health for the<br>first year of preparation of its sustainability<br>statement.                                                                                                                           |\n| ESRS S1 | S1-14                             | Health and safety                                                                                                                                 | The undertaking may omit reporting on non<br>employees for the first year of preparation of<br>its sustainability statement.                                                                                                                                                                                                                                                                      |\n| ESRS S1 | S1-15                             | Work-life balance                                                                                                                                 | The undertaking may omit the information<br>prescribed by ESRS S1-15 for the first year<br>of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S2 | All<br>disclosure<br>requirements | All<br>disclosure<br>requirements                                                                                                                 | Undertakings or groups<br>not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable)<br>may<br>omit<br>the<br>information<br>specified in the disclosure requirements of<br>ESRS S2 for the first 2 years of preparation<br>of their sustainability statement. |\n| ESRS    | Disclosure<br>Requirement         | Full name of the<br>Disclosure<br>Requirement |            | Phase-in or effective date (including<br>the first year)                                                                                                                                                                                                                                                                                                                                       |\n|---------|-----------------------------------|-----------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS S3 | All<br>disclosure<br>requirements | All<br>requirements                           | disclosure | Undertakings or groups not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable)<br>may<br>omit<br>the<br>information<br>specified in the disclosure requirements of<br>ESRS S3 for the first 2 years of preparation<br>of their sustainability statement. |\n| ESRS S4 | All<br>disclosure<br>requirements | All<br>requirements                           | disclosure | Undertakings or groups not exceeding on<br>their<br>balance<br>sheet<br>dates<br>the<br>average<br>number of 750 employees during the financial<br>year<br>(on<br>a<br>consolidated<br>basis<br>where<br>applicable)<br>may<br>omit<br>the<br>information<br>specified in the disclosure requirements of<br>ESRS S4 for the first 2 years of preparation<br>of their sustainability statement. |)"
  };

  (async () => {
    setCoso(DOMPurify.sanitize(await marked.parse(`<img src="x" onerror="alert('not happening')">`)));
  })()

  return (
    <>
      <div className='w-full p-6' >
        <Markdown rehypePlugins={[rehypeRaw]}>{markup.__html}</Markdown>
        {coso}
        {/* {(() => {
          return (<p className='whitespace-pre-line'>
            {"[Context 2]: (**Verifiability**\n**Appendix C: List of phased-in Disclosure Requirements**\nThis appendix is an integral part of ESRS 1 and has the same authority as the other parts of the Standard.\n| ESRS   | Disclosure<br />Requirement | Full name of the<br />Disclosure<br />Requirement  | Phase-in or effective date (including<br />the first year)                                                                                                                                                                                                                                                                                                                            |\n|--------|---------------------------|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS 2 | SBM-1                     | Strategy,<br />business<br />model and value chain | The undertaking shall report the information<br />prescribed by ESRS 2 SBM-1 paragraph<br />40(b)<br />(breakdown<br />of<br />total<br />revenue<br />by<br />significant ESRS sector) and 40(c) (list of<br />additional significant ESRS sectors) starting<br />from the application date specified in a<br />Commission Delegated Act to be adopted<br />pursuant to article 29b(1) third subparagraph, |\n| ESRS    | Disclosure<br />Requirement         | Full name of the<br />Disclosure<br />Requirement                                                                                                       | Phase-in or effective date (including<br />the first year)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n|---------|-----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|         |                                   |                                                                                                                                                     | point (ii), of Directive 2013/34/EU.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ESRS 2  | SBM-3                             | Material impacts, risks<br />and opportunities and<br />their<br />interaction<br />with<br />strategy and business<br />model                                  | The undertaking may omit the information<br />prescribed by ESRS 2 SBM-3 paragraph<br />48(e) (anticipated financial effects)<br />for the<br />first year of preparation of its sustainability<br />statement. The undertaking may comply with<br />ESRS 2 SBM-3 paragraph 48(e) by reporting<br />only qualitative disclosures for the first 3<br />years of preparation of its sustainability<br />statement, if it is impracticable to prepare<br />quantitative disclosures.                                                                                        |\n| ESRS E1 | E1-6                              | Gross Scopes 1, 2, 3<br />and<br />Total<br />GHG<br />emissions                                                                                            | Undertakings or groups not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable) may omit the datapoints on scope<br />3 emissions and total GHG emissions for the<br />first year of preparation of their sustainability<br />statement.                                                                                                                                                                              |\n| ESRS E1 | E1-9                              | Anticipated<br />financial<br />effects<br />from<br />material<br />physical and transition<br />risks<br />and<br />potential<br />climate-related<br />opportunities | The undertaking may omit the information<br />prescribed by ESRS E1-9 for the first year of<br />preparation of its sustainability statement.<br />The undertaking may comply with ESRS E1-9<br />by reporting only qualitative disclosures for<br />the<br />first<br />3<br />years<br />of<br />preparation of its<br />sustainability statement, if it is impracticable<br />to prepare quantitative disclosures.                                                                                                                                                        |\n| ESRS E2 | E2-6                              | Anticipated<br />financial<br />effects<br />from<br />pollution<br />related<br />impacts,<br />risks<br />and opportunities                                       | The undertaking may omit the information<br />prescribed by ESRS E2-6 for the first year of<br />preparation of its sustainability statement.<br />Except for the information prescribed by<br />paragraph 40 (b) on the operating and capital<br />expenditures occurred in the reporting period<br />in conjunction with major incidents and<br />deposits, the undertaking may comply<br />with<br />ESRS<br />E2-6 by<br />reporting<br />only<br />qualitative<br />disclosures,<br />for<br />the<br />first<br />3<br />years<br />of<br />preparation of its sustainability statement. |\n| ESRS E3 | E3-5                              | Anticipated<br />financial<br />effects from water and<br />marine<br />resources<br />related impacts,<br />risks<br />and opportunities                         | The undertaking may omit the information<br />prescribed by ESRS E3-5 for the first year of<br />preparation of its sustainability statement.The<br />undertaking may comply with ESRS E3-5 by<br />reporting only qualitative disclosures, for the<br />first 3 years of preparation of its sustainability<br />statement.                                                                                                                                                                                                                                      |\n| ESRS E4 | All<br />disclosure<br />requirements | All<br />disclosure<br />requirements                                                                                                                   | Undertakings or groups not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable)<br />may<br />omit<br />the<br />information<br />specified in the disclosure requirements of<br />ESRS E4 for the first 2 years of preparation<br />of their sustainability statement.                                                                                                                                                       |\n|         | Disclosure                        | Full name of the                                                                                                                                  | Phase-in or effective date (including                                                                                                                                                                                                                                                                                                                                                             |\n|---------|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS    | Requirement                       | Disclosure                                                                                                                                        | the first year)                                                                                                                                                                                                                                                                                                                                                                                   |\n|         |                                   | Requirement                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                   |\n| ESRS E4 | E4-6                              | Anticipated<br />financial<br />effects<br />from<br />biodiversity<br />and<br />ecosystem-related<br />impacts,<br />risks<br />and<br />opportunities              | The undertaking may omit the information<br />prescribed by ESRS E4-6 for the first year of<br />preparation of its sustainability statement.<br />The undertaking may comply with ESRS E4-<br />6 by reporting only qualitative disclosures, for<br />the first 3<br />years of preparation of its<br />sustainability statement.                                                                              |\n| ESRS E5 | E5-6                              | Anticipated<br />financial<br />effects<br />from<br />resource<br />use<br />and<br />circular<br />economy-related<br />impacts,<br />risks<br />and<br />opportunities | The undertaking may omit the information<br />prescribed by ESRS E5-6 for the first year of<br />preparation of its sustainability statement.<br />The undertaking may comply with ESRS E5-<br />6 by reporting only qualitative disclosures, for<br />the first 3<br />years of preparation of its<br />sustainability statement.                                                                              |\n| ESRS S1 | All<br />disclosure<br />requirements | All<br />disclosure<br />requirements                                                                                                                 | Undertakings or groups not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable)<br />may<br />omit<br />the<br />information<br />specified in the disclosure requirements of<br />ESRS S1 for the first year of preparation of<br />their sustainability statement.       |\n| ESRS S1 | S1-7                              | Characteristics<br />of<br />non<br />employee workers in the<br />undertaking's<br />own<br />workforce                                                      | The undertaking may omit reporting for all<br />datapoints in this Disclosure Requirement for<br />the<br />first<br />year<br />of<br />preparation<br />of<br />its<br />sustainability statement.                                                                                                                                                                                                                |\n| ESRS S1 | S1-8                              | Collective<br />bargaining<br />coverage<br />and<br />social dialogue                                                                                    | The undertaking may omit this Disclosure<br />Requirement<br />with<br />regard<br />to<br />its<br />own<br />employees in non-EEA countries for the first<br />year<br />of<br />preparation<br />of<br />its<br />sustainability<br />statement.                                                                                                                                                                           |\n| ESRS S1 | S1-11                             | Social protection                                                                                                                                 | The undertaking may omit the information<br />prescribed by ESRS S1-11 for the first year<br />of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-12                             | Percentage<br />of<br />employees<br />with<br />disabilities                                                                                             | The undertaking may omit the information<br />prescribed by ESRS S1-12 for the first year<br />of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-13                             | Training<br />and<br />skills<br />development                                                                                                          | The undertaking may omit the information<br />prescribed by ESRS S1-13 for the first year<br />of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S1 | S1-14                             | Health and safety                                                                                                                                 | The undertaking may omit the data points on<br />cases<br />of<br />work-related<br />ill-health<br />and<br />on<br />number of days lost to injuries, accidents,<br />fatalities and work-related ill health for the<br />first year of preparation of its sustainability<br />statement.                                                                                                                           |\n| ESRS S1 | S1-14                             | Health and safety                                                                                                                                 | The undertaking may omit reporting on non<br />employees for the first year of preparation of<br />its sustainability statement.                                                                                                                                                                                                                                                                      |\n| ESRS S1 | S1-15                             | Work-life balance                                                                                                                                 | The undertaking may omit the information<br />prescribed by ESRS S1-15 for the first year<br />of preparation of its sustainability statement.                                                                                                                                                                                                                                                        |\n| ESRS S2 | All<br />disclosure<br />requirements | All<br />disclosure<br />requirements                                                                                                                 | Undertakings or groups<br />not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable)<br />may<br />omit<br />the<br />information<br />specified in the disclosure requirements of<br />ESRS S2 for the first 2 years of preparation<br />of their sustainability statement. |\n| ESRS    | Disclosure<br />Requirement         | Full name of the<br />Disclosure<br />Requirement |            | Phase-in or effective date (including<br />the first year)                                                                                                                                                                                                                                                                                                                                       |\n|---------|-----------------------------------|-----------------------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| ESRS S3 | All<br />disclosure<br />requirements | All<br />requirements                           | disclosure | Undertakings or groups not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable)<br />may<br />omit<br />the<br />information<br />specified in the disclosure requirements of<br />ESRS S3 for the first 2 years of preparation<br />of their sustainability statement. |\n| ESRS S4 | All<br />disclosure<br />requirements | All<br />requirements                           | disclosure | Undertakings or groups not exceeding on<br />their<br />balance<br />sheet<br />dates<br />the<br />average<br />number of 750 employees during the financial<br />year<br />(on<br />a<br />consolidated<br />basis<br />where<br />applicable)<br />may<br />omit<br />the<br />information<br />specified in the disclosure requirements of<br />ESRS S4 for the first 2 years of preparation<br />of their sustainability statement. |)".replace("\n", " \n ")
              .replace("<br>", "<br/>")
              .replace("<br />", "<br/>")
              .replace("<br >", "<br/>")
            }
          </p>)
        })()} */}
      </div>
      <div className='grid grid-cols-3 gap-6 p-6'>
        <InputSection setResponse={setResponse} setIsLoading={setIsLoading} />
        {response && (
          <ResponseSection response={response} isLoading={isLoading} />
        )}
      </div>
    </>
  );
}

export default App;
